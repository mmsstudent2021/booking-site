name: Deploy to VPS
on:
  push:
    branches:
      - main
jobs:
  deploy:
    runs-on: ubuntu-latest
    strategy:
      matrix:
        node-version: [18.x]
    steps:
      - name: Checkout Code 🚚
        uses: actions/checkout@v3
      - name: Install Dependencies 📦
        run: npm install
      - name: Build React App 🏗️
        run: npm run build
      - name: Upload to VPS 🗄️
        uses: appleboy/scp-action@master
        with:
          host: "128.199.222.81"
          username: root
          password: "workShop@24Par"
          source: ./dist/
          target: /var/www/html/
